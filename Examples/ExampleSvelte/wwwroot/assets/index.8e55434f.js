!function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function c(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function y(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let v;function w(t){v=t}const m=[],g=[],b=[],x=[],_=Promise.resolve();let $=!1;function z(t){b.push(t)}let F=!1;const C=new Set;function O(){if(!F){F=!0;do{for(let t=0;t<m.length;t+=1){const n=m[t];w(n),k(n.$$)}for(w(null),m.length=0;g.length;)g.pop()();for(let t=0;t<b.length;t+=1){const n=b[t];C.has(n)||(C.add(n),n())}b.length=0}while(m.length);for(;x.length;)x.pop()();$=!1,F=!1,C.clear()}}function k(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(z)}}const S=new Set;function E(t,n){t&&t.i&&(S.delete(t),t.i(n))}function M(t,e,i,s){const{fragment:c,on_mount:u,on_destroy:a,after_update:l}=t.$$;c&&c.m(e,i),s||z((()=>{const e=u.map(n).filter(r);a?a.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(z)}function T(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function j(t,n){-1===t.$$.dirty[0]&&(m.push(t),$||($=!0,_.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function D(n,r,i,s,c,u,l,p=[-1]){const d=v;w(n);const f=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:r.context||[]),callbacks:e(),dirty:p,skip_bound:!1,root:r.target||d.$$.root};l&&l(f.root);let h=!1;if(f.ctx=i?i(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return f.ctx&&c(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),h&&j(n,t)),e})):[],f.update(),h=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),r.target){if(r.hydrate){const t=(y=r.target,Array.from(y.childNodes));f.fragment&&f.fragment.l(t),t.forEach(a)}else f.fragment&&f.fragment.c();r.intro&&E(n.$$.fragment),M(n,r.target,r.anchor,r.customElement),O()}var y;w(d)}class L{$destroy(){T(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const P=[];function A(n,e=t){let o;const r=new Set;function s(t){if(i(n,t)&&(n=t,o)){const t=!P.length;for(const e of r)e[1](),P.push(e,n);if(t){for(let t=0;t<P.length;t+=2)P[t][0](P[t+1]);P.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(i,c=t){const u=[i,c];return r.add(u),1===r.size&&(o=e(s)||t),i(n),()=>{r.delete(u),0===r.size&&(o(),o=null)}}}}var R,N=new Uint8Array(16);function V(){if(!R&&!(R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(N)}var G=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function H(t){return"string"==typeof t&&G.test(t)}for(var B=[],U=0;U<256;++U)B.push((U+256).toString(16).substr(1));function J(t,n,e){var o=(t=t||{}).random||(t.rng||V)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){e=e||0;for(var r=0;r<16;++r)n[e+r]=o[r];return n}return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(B[t[n+0]]+B[t[n+1]]+B[t[n+2]]+B[t[n+3]]+"-"+B[t[n+4]]+B[t[n+5]]+"-"+B[t[n+6]]+B[t[n+7]]+"-"+B[t[n+8]]+B[t[n+9]]+"-"+B[t[n+10]]+B[t[n+11]]+B[t[n+12]]+B[t[n+13]]+B[t[n+14]]+B[t[n+15]]).toLowerCase();if(!H(e))throw TypeError("Stringified UUID is invalid");return e}(o)}var W,X,q,I=function(t){this.photino=t},K=(W=function(t,n){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}W(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),Q=function(t){function n(n){var e=t.call(this,n)||this;return e.ns="io",e}return K(n,t),n.prototype.readFileText=function(t,n){return void 0===n&&(n=null),this.photino.send({ns:this.ns,action:"readFileText",params:{path:t,encoding:n}})},n.prototype.readFileLines=function(t,n){return void 0===n&&(n=null),this.photino.send({ns:this.ns,action:"readFileLines",params:{path:t,encoding:n}})},n.prototype.readFile=function(t){return this.photino.send({ns:this.ns,action:"readFile",params:{path:t}})},n.prototype.writeFile=function(t,n,e){return void 0===e&&(e=null),this.photino.send({ns:this.ns,action:"writeFile",params:{path:t,contents:n,encoding:e}})},n.prototype.listFiles=function(t,n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.photino.send({ns:this.ns,action:"listFiles",params:{path:t,searchPattern:n,recursive:e}})},n.prototype.listFolders=function(t,n,e){return void 0===n&&(n=null),void 0===e&&(e=!1),this.photino.send({ns:this.ns,action:"listFolders",params:{path:t,searchPattern:n,recursive:e}})},n.prototype.createFolder=function(t){return this.photino.send({ns:this.ns,action:"createFolder",params:{path:t}})},n.prototype.deleteFile=function(t){return this.photino.send({ns:this.ns,action:"deleteFile",params:{path:t}})},n.prototype.deleteFolder=function(t,n){return void 0===n&&(n=!1),this.photino.send({ns:this.ns,action:"deleteFolder",params:{path:t,recursive:n}})},n.prototype.cwd=function(){return this.photino.send({ns:this.ns,action:"cwd",params:{}})},n}(I),Y=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Z=function(t){function n(n){var e=t.call(this,n)||this;return e.ns="os",e}return Y(n,t),n.prototype.isWindows=function(){return this.photino.send({ns:this.ns,action:"isWindows"})},n.prototype.isLinux=function(){return this.photino.send({ns:this.ns,action:"isLinux"})},n.prototype.isFreeBSD=function(){return this.photino.send({ns:this.ns,action:"isFreeBSD"})},n.prototype.isOSX=function(){return this.photino.send({ns:this.ns,action:"isOSX"})},n.prototype.joinPaths=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.photino.send({ns:this.ns,action:"joinPaths",params:{paths:t}})},n.prototype.cmd=function(t){return this.photino.send({ns:this.ns,action:"cmd",params:{command:t}})},n.prototype.showOpenFileDialog=function(t,n){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return this.photino.send({ns:this.ns,action:"showOpenFileDialog",params:{title:t,multiselect:n,filters:e}})},n.prototype.showOpenFolderDialog=function(t){return this.photino.send({ns:this.ns,action:"showOpenFolderDialog",params:{title:t}})},n.prototype.showSaveFileDialog=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return this.photino.send({ns:this.ns,action:"showSaveFileDialog",params:{title:t,filters:n}})},n}(I),tt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),nt=function(t){function n(n){var e=t.call(this,n)||this;return e.ns="app",e}return tt(n,t),n.prototype.exit=function(){return this.photino.send({ns:this.ns,action:"exit"})},n}(I),et=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ot=function(t){function n(n){var e=t.call(this,n)||this;return e.ns="window",e}return et(n,t),n.prototype.setTitle=function(t){return this.photino.send({ns:this.ns,action:"setTitle",params:{title:t}})},n.prototype.setSize=function(t,n){return this.photino.send({ns:this.ns,action:"setSize",params:{width:t,height:n}})},n.prototype.setLocation=function(t,n){return this.photino.send({ns:this.ns,action:"setLocation",params:{x:t,y:n}})},n.prototype.maximize=function(){return this.photino.send({ns:this.ns,action:"maximize"})},n.prototype.minimize=function(){return this.photino.send({ns:this.ns,action:"minimize"})},n.prototype.restore=function(){return this.photino.send({ns:this.ns,action:"restore"})},n.prototype.setDevToolsEnabled=function(t){return this.photino.send({ns:this.ns,action:"setDevToolsEnabled",params:{enabled:t}})},n.prototype.setContextMenuEnabled=function(t){return this.photino.send({ns:this.ns,action:"setContextMenuEnabled",params:{enabled:t}})},n.prototype.setTopMost=function(t){return this.photino.send({ns:this.ns,action:"setTopMost",params:{topMost:t}})},n.prototype.drag=function(){this.photino.sendRaw("drag")},n.prototype.resize=function(t){this.photino.sendRaw("r"+t)},n.prototype.close=function(){return this.photino.send({ns:this.ns,action:"close"})},n}(I),rt=function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function s(t){try{u(o.next(t))}catch(n){i(n)}}function c(t){try{u(o.throw(t))}catch(n){i(n)}}function u(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}u((o=o.apply(t,n||[])).next())}))},it=function(t,n){var e,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(t,s)}catch(c){i=[6,c],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};"function"!=typeof window.external.sendMessage&&(window.external.sendMessage=function(t){return console.log("(Emulating sendMessage): "+t)}),"function"!=typeof window.external.receiveMessage&&(window.external.receiveMessage=function(t){t("Simulating message from backend.")},window.external.receiveMessage((function(t){return console.log("(Emulating receiveMessage): "+t)}))),(q=X||(X={}))[q.Success=0]="Success",q[q.Error=1]="Error";var st=function(t){this._id=J(),this.data=t},ct=function(){function t(){this.io=new Q(this),this.os=new Z(this),this.app=new nt(this),this.window=new ot(this)}return t.prototype.sendData=function(t){var n=new st(t);return window.external.sendMessage("api"+JSON.stringify(n)),new Promise((function(t){var e=setTimeout((function(){throw new Error("Took to long for a response")}),3e4);window.external.receiveMessage((function(o){var r=JSON.parse(o);r._id===n._id&&(clearTimeout(e),t(r))}))}))},t.prototype.send=function(t){return rt(this,void 0,void 0,(function(){var n;return it(this,(function(e){switch(e.label){case 0:return[4,this.sendData(t)];case 1:if((n=e.sent()).data.status!==X.Success)throw new Error(n.data.message);return[2,n.data.return]}}))}))},t.prototype.sendRaw=function(t){return rt(this,void 0,void 0,(function(){return it(this,(function(n){return window.external.sendMessage(t),[2]}))}))},t}();const ut={subscribe:A(new ct,at).subscribe};var at;function lt(n){let e,r,i,s,p,v,w,m,g,b,x,_,$,z,F,C,O,k,S,E,M,T,j,D,L,P,A,R,N,V,G,H,B,U;return{c(){e=l("div"),r=l("div"),i=l("div"),s=l("div"),p=d(),v=l("div"),w=d(),m=l("div"),g=d(),b=l("div"),x=l("div"),_=d(),$=l("div"),z=d(),F=l("div"),C=d(),O=l("div"),k=l("div"),S=d(),E=l("div"),M=d(),T=l("div"),j=d(),D=l("div"),D.textContent="Drag Me",L=d(),P=l("button"),P.textContent="Minimize",A=d(),R=l("button"),R.textContent="Maximize",N=d(),V=l("button"),V.textContent="Restore",G=d(),H=l("button"),H.textContent="Close",h(s,"class","resize svelte-r0p61l"),y(s,"cursor","nw-resize"),h(s,"data-resize","tl"),h(v,"class","resize svelte-r0p61l"),y(v,"cursor","n-resize"),h(v,"data-resize","t"),h(m,"class","resize svelte-r0p61l"),y(m,"cursor","ne-resize"),h(m,"data-resize","tr"),h(i,"class","row svelte-r0p61l"),h(x,"class","resize svelte-r0p61l"),y(x,"cursor","w-resize"),h(x,"data-resize","l"),h($,"class","resize blank svelte-r0p61l"),h(F,"class","resize svelte-r0p61l"),y(F,"cursor","e-resize"),h(F,"data-resize","r"),h(b,"class","row svelte-r0p61l"),h(k,"class","resize svelte-r0p61l"),y(k,"cursor","sw-resize"),h(k,"data-resize","bl"),h(E,"class","resize svelte-r0p61l"),y(E,"cursor","s-resize"),h(E,"data-resize","b"),h(T,"class","resize svelte-r0p61l"),y(T,"cursor","se-resize"),h(T,"data-resize","br"),h(O,"class","row svelte-r0p61l"),h(r,"class","resize-handles svelte-r0p61l"),h(D,"id","drag-area"),h(D,"class","svelte-r0p61l"),h(e,"id","window-controls"),h(e,"class","svelte-r0p61l")},m(t,o){u(t,e,o),c(e,r),c(r,i),c(i,s),c(i,p),c(i,v),c(i,w),c(i,m),c(r,g),c(r,b),c(b,x),c(b,_),c(b,$),c(b,z),c(b,F),c(r,C),c(r,O),c(O,k),c(O,S),c(O,E),c(O,M),c(O,T),c(e,j),c(e,D),c(e,L),c(e,P),c(e,A),c(e,R),c(e,N),c(e,V),c(e,G),c(e,H),B||(U=[f(s,"mousedown",n[1]),f(v,"mousedown",n[1]),f(m,"mousedown",n[1]),f(x,"mousedown",n[1]),f($,"mousedown",n[1]),f(F,"mousedown",n[1]),f(k,"mousedown",n[1]),f(E,"mousedown",n[1]),f(T,"mousedown",n[1]),f(D,"mousedown",n[2]),f(P,"click",n[3]),f(R,"click",n[4]),f(V,"click",n[5]),f(H,"click",n[6])],B=!0)},p:t,i:t,o:t,d(t){t&&a(e),B=!1,o(U)}}}function pt(t,n,e){let o;s(t,ut,(t=>e(0,o=t)));return[o,function(t){const n=t.target;o.window.resize(n.dataset.resize),t.preventDefault(),t.stopPropagation()},function(t){o.window.drag(),t.preventDefault(),t.stopPropagation()},()=>o.window.minimize(),()=>o.window.maximize(),()=>o.window.restore(),()=>o.window.close()]}class dt extends L{constructor(t){super(),D(this,t,pt,lt,i,{})}}function ft(t){var n,e,r;let i,s,y,v,w,m,g,b,x,_,$,z,F,C,O,k,j,D,L,P,A,R=(null!=(n=t[0])?n:'Click "Current Directory"')+"",N=(null!=(e=t[1])?e:'Click "List Files"')+"",V=(null!=(r=t[2])?r:'Click "List Folders"')+"";return s=new dt({}),{c(){var t;i=l("main"),(t=s.$$.fragment)&&t.c(),y=d(),v=l("div"),w=l("button"),w.textContent="Current Directory",m=d(),g=l("div"),b=p(R),x=d(),_=l("div"),$=l("button"),$.textContent="List Files",z=d(),F=l("div"),C=d(),O=l("div"),k=l("button"),k.textContent="List Folders",j=d(),D=l("div"),h(i,"class","svelte-7xzscv")},m(n,e){u(n,i,e),M(s,i,null),c(i,y),c(i,v),c(v,w),c(v,m),c(v,g),c(g,b),c(i,x),c(i,_),c(_,$),c(_,z),c(_,F),F.innerHTML=N,c(i,C),c(i,O),c(O,k),c(O,j),c(O,D),D.innerHTML=V,L=!0,P||(A=[f(w,"click",t[3]),f($,"click",t[4]),f(k,"click",t[5])],P=!0)},p(t,[n]){var e,o,r,i,s;(!L||1&n)&&R!==(R=(null!=(e=t[0])?e:'Click "Current Directory"')+"")&&(s=""+(s=R),(i=b).wholeText!==s&&(i.data=s)),(!L||2&n)&&N!==(N=(null!=(o=t[1])?o:'Click "List Files"')+"")&&(F.innerHTML=N),(!L||4&n)&&V!==(V=(null!=(r=t[2])?r:'Click "List Folders"')+"")&&(D.innerHTML=V)},i(t){L||(E(s.$$.fragment,t),L=!0)},o(t){!function(t,n,e,o){if(t&&t.o){if(S.has(t))return;S.add(t),(void 0).c.push((()=>{S.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}(s.$$.fragment,t),L=!1},d(t){t&&a(i),T(s),P=!1,o(A)}}}function ht(t,n,e){let o;s(t,ut,(t=>e(6,o=t)));var r=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function s(t){try{u(o.next(t))}catch(n){i(n)}}function c(t){try{u(o.throw(t))}catch(n){i(n)}}function u(t){t.done?r(t.value):function(t){return t instanceof e?t:new e((function(n){n(t)}))}(t.value).then(s,c)}u((o=o.apply(t,n||[])).next())}))};const{io:i,os:c,window:u}=o;function a(t){return r(this,void 0,void 0,(function*(){try{return yield t()}catch(n){return n.toString()}}))}let l,p,d;return[l,p,d,function(){return r(this,void 0,void 0,(function*(){e(0,l="Getting current directory..."),e(0,l=yield a((()=>i.cwd())))}))},function(){return r(this,void 0,void 0,(function*(){e(1,p="Gettings list of files...");const t=yield a((()=>i.cwd()));e(1,p=(yield a((()=>i.listFiles(t)))).join("<br>"))}))},function(){return r(this,void 0,void 0,(function*(){e(2,d="Gettings list of folders...");const t=yield a((()=>i.cwd()));e(2,d=(yield a((()=>i.listFolders(t)))).join("<br>"))}))}]}new class extends L{constructor(t){super(),D(this,t,ht,ft,i,{})}}({target:document.body})}();
